(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-04209f4d"],{2909:function(t,e,a){"use strict";a.d(e,"a",(function(){return o}));var n=a("6b75");function i(t){if(Array.isArray(t))return Object(n["a"])(t)}a("a4d3"),a("e01a"),a("d28b"),a("a630"),a("d3b7"),a("3ca3"),a("ddb0");function s(t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}var r=a("06c5");function c(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function o(t){return i(t)||s(t)||Object(r["a"])(t)||c()}},"3bd7":function(t,e,a){},"45fb":function(t,e,a){},"6cb5":function(t,e,a){"use strict";a("7251")},7251:function(t,e,a){},"7b71":function(t,e,a){"use strict";a("c646")},"93d9":function(t,e,a){},"96ca":function(t,e,a){"use strict";a("45fb")},a953:function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"tab-contorl"},t._l(t.titles,(function(e,n){return a("div",{key:n,staticClass:"tab-contorl-item",class:{active:n==t.currentIndex},on:{click:function(e){return t.tabChange(n)}}},[a("span",[t._v(t._s(e))])])})),0)},i=[],s={name:"tabContorl",props:{titles:{type:Array,default:function(){return["选项1","选项2","选项3"]}}},data:function(){return{currentIndex:0}},methods:{tabChange:function(t){this.currentIndex=t,this.$emit("changeDate",t),this.$bus.$emit("indexChange",t)}}},r=s,c=(a("da47"),a("2877")),o=Object(c["a"])(r,n,i,!1,null,"e8deb20e",null);e["a"]=o.exports},bb51:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"category"}},[a("category-nav"),a("div",{staticClass:"category-content"},[a("div",{staticClass:"left"},[a("scroll",{staticClass:"left-scroll scroll"},[a("cart-left",{staticClass:"left",attrs:{NavList:t.navList},on:{rightData:t.leftClick}})],1)],1),a("div",{staticClass:"right"},[a("tab-contorl",{directives:[{name:"show",rawName:"v-show",value:t.isTab,expression:"isTab"}],staticClass:"tab",attrs:{titles:["综合","新款","销量"]}}),a("scroll",{ref:"scroll",staticClass:"right-scroll scroll",attrs:{pullUpLoad:!0},on:{showBackTop:t.showBackTop,pulling:t.pulling}},[a("cate-right",{ref:"right",attrs:{NavData:t.subList,goodsData:t.tabData[t.currentIndex]}})],1)],1),a("back-top",{directives:[{name:"show",rawName:"v-show",value:t.isBackTop,expression:"isBackTop"}],nativeOn:{click:function(e){return t.backClick(e)}}})],1)],1)},i=[],s=a("2909"),r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("nav-bar",{staticClass:"cateTop",scopedSlots:t._u([{key:"center",fn:function(){return[t._v(" 商品分类 ")]},proxy:!0}])})},c=[],o=a("a7ac"),l={name:"CategoryNavBar",components:{NavBar:o["a"]}},u=l,f=(a("fd9f"),a("2877")),h=Object(f["a"])(u,r,c,!1,null,"289e856c",null),b=h.exports,d=function(){var t=this,e=t.$createElement,a=t._self._c||e;return 0!==Object.keys(t.NavList).length?a("div",{staticClass:"cart-left"},t._l(t.NavList,(function(e,n){return a("div",{key:n,staticClass:"left-item",class:{active:t.currentIndex==n},on:{click:function(a){return t.changeNav(n,e.maitKey,e.miniWallkey)}}},[t._v(" "+t._s(e.title)+" ")])})),0):t._e()},g=[],m=a("5d17"),p={name:"CartLeftNav",props:{NavList:{type:Array,default:function(){return[]}}},components:{scroll:m["a"]},data:function(){return{currentIndex:0}},methods:{changeNav:function(t,e,a){this.currentIndex!==t&&(this.currentIndex=t,this.$emit("rightData",e,a,t))}}},v=p,y=(a("96ca"),Object(f["a"])(v,d,g,!1,null,"3601459a",null)),C=y.exports,k=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[0!==Object.keys(t.NavData).length?a("div",{staticClass:"cart-right"},t._l(t.NavData,(function(t,e){return a("right-item",{key:e,attrs:{ItemData:t}})})),1):t._e(),a("div",[a("tab-contorl",{ref:"tabContorl",attrs:{titles:["综合","新款","销量"]}}),0!==Object.keys(t.goodsData).length?a("goods-list",{attrs:{list:t.goodsData}}):t._e()],1)])},I=[],x=function(){var t=this,e=t.$createElement,a=t._self._c||e;return 0!==Object.keys(t.ItemData).length?a("div",{staticClass:"right-item"},[a("a",{attrs:{href:t.ItemData.link}},[a("div",{staticClass:"item"},[a("img",{attrs:{src:t.ItemData.image},on:{load:t.cartImageLoad}}),a("span",[t._v(t._s(t.ItemData.title))])])])]):t._e()},D=[],_={name:"CartRightNavItem",props:{ItemData:{type:Object,default:function(){return{}}}},methods:{cartImageLoad:function(){this.$bus.$emit("itemImageLoad")}}},$=_,w=(a("f04b"),Object(f["a"])($,x,D,!1,null,"93c417b0",null)),T=w.exports,j=a("a953"),L=a("6d71"),O=a("90b9"),N={name:"CartRightNav",props:{NavData:{type:Array,default:function(){return[]}},goodsData:{type:Array,default:function(){return[]}},data:function(){return{GetTabHeight:null,tabHeight:0}}},mounted:function(){this.GetTabHeight=Object(O["a"])(this.GetHeight,50),this.$bus.$on("itemImageLoad",this.ItemImgListen)},methods:{ItemImgListen:function(){this.GetTabHeight()},GetHeight:function(){this.tabHeight=this.$refs.tabContorl.$el.offsetTop}},components:{RightItem:T,TabContorl:j["a"],GoodsList:L["a"],scroll:m["a"]}},W=N,B=(a("6cb5"),Object(f["a"])(W,k,I,!1,null,"66f7c183",null)),H=B.exports,A=a("1bab");function E(){return Object(A["a"])({url:"/category"})}function S(t){return Object(A["a"])({url:"/subcategory",params:{maitKey:t}})}function G(t,e){return Object(A["a"])({url:"/subcategory/detail",params:{miniWallkey:t,type:e}})}var K=a("eecb"),R={name:"Category",data:function(){return{navList:[],subList:[],miniWallkey:0,currentIndex:"pop",isTab:!1,tabData:{pop:[],new:[],sell:[]},rightTopKey:0}},components:{CategoryNav:b,CartLeft:C,CateRight:H,TabContorl:j["a"],scroll:m["a"]},mixins:[K["b"],K["a"]],created:function(){this.getCategoryData()},mounted:function(){this.$bus.$on("indexChange",this.indexChanges)},methods:{indexChanges:function(t){switch(t){case 0:this.currentIndex="pop";break;case 1:this.currentIndex="new";break;case 2:this.currentIndex="sell";break}console.log(this.currentIndex),this.getCategoryDetails(this.miniWallkey,this.currentIndex)},getCategoryData:function(){var t=this;E().then((function(e){var a=e.data.category;return t.navList=a.list,a.list[0]})).then((function(e){t.getCategorySub(e.maitKey),t.miniWallkey=e.miniWallkey}))},getCategorySub:function(t){var e=this;S(t).then((function(t){e.subList=t.data.list}))},getCategoryDetails:function(t,e){var a=this;G(t,e).then((function(t){var n;(n=a.tabData[e]).push.apply(n,Object(s["a"])(t))}))},leftClick:function(t,e,a){this.rightTopKey=a,this.miniWallkey=e,this.getCategorySub(t),this.$refs.scroll.scrollTo(0,0,10)},showBackTop:function(t){this.isBackTop=-t>3e3,this.isTab=-t>this.$refs.right.tabHeight},pulling:function(){console.log(999),this.getCategoryDetails(this.miniWallkey,"pop"),this.getCategoryDetails(this.miniWallkey,"new"),this.getCategoryDetails(this.miniWallkey,"sell"),this.$refs.scroll.pullingUp(),this.$refs.scroll.scrollBy(0,-400,2e3)}}},J=R,U=(a("7b71"),Object(f["a"])(J,n,i,!1,null,"3f8be95a",null));e["default"]=U.exports},c144:function(t,e,a){},c646:function(t,e,a){},da47:function(t,e,a){"use strict";a("3bd7")},f04b:function(t,e,a){"use strict";a("c144")},fd9f:function(t,e,a){"use strict";a("93d9")}}]);
//# sourceMappingURL=chunk-04209f4d.e06cacdc.js.map